<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.feng.oldfriend.dao.LyjUserMapper" >
  <resultMap id="BaseResultMap" type="com.feng.oldfriend.entity.LyjUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="lyj_user_id" property="lyjUserId" jdbcType="INTEGER" />
    <result column="lyj_user_openid" property="lyjUserOpenid" jdbcType="VARCHAR" />
    <result column="lyj_user_name" property="lyjUserName" jdbcType="VARCHAR" />
    <result column="lyj_user_gender" property="lyjUserGender" jdbcType="INTEGER" />
    <result column="lyj_user_location" property="lyjUserLocation" jdbcType="VARCHAR" />
    <result column="lyj_user_age" property="lyjUserAge" jdbcType="INTEGER" />
    <result column="lyj_user_country" property="lyjUserCountry" jdbcType="VARCHAR" />
    <result column="lyj_user_creditid" property="lyjUserCreditid" jdbcType="VARCHAR" />
    <result column="lyj_user_phone" property="lyjUserPhone" jdbcType="VARCHAR" />
    <result column="lyj_user_livingplace" property="lyjUserLivingplace" jdbcType="VARCHAR" />
    <result column="lyj_user_workplace" property="lyjUserWorkplace" jdbcType="VARCHAR" />
    <result column="lyj_user_creditpositive" property="lyjUserCreditpositive" jdbcType="VARCHAR" />
    <result column="lyj_user_creditnegative" property="lyjUserCreditnegative" jdbcType="VARCHAR" />
    <result column="lyj_user_rewards" property="lyjUserRewards" jdbcType="INTEGER" />

  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from lyj_user
    where lyj_user_id = #{lyjUserId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.feng.oldfriend.entity.LyjUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into lyj_user (lyj_user_id, lyj_user_openid, lyj_user_name, 
      lyj_user_gender, lyj_user_location, lyj_user_age, 
      lyj_user_country, lyj_user_creditid, lyj_user_phone, 
      lyj_user_livingplace, lyj_user_workplace, lyj_user_creditpositive, 
      lyj_user_creditnegative,lyj_user_rewards)
    values (#{lyjUserId,jdbcType=INTEGER}, #{lyjUserOpenid,jdbcType=VARCHAR}, #{lyjUserName,jdbcType=VARCHAR}, 
      #{lyjUserGender,jdbcType=INTEGER}, #{lyjUserLocation,jdbcType=VARCHAR}, #{lyjUserAge,jdbcType=INTEGER}, 
      #{lyjUserCountry,jdbcType=VARCHAR}, #{lyjUserCreditid,jdbcType=VARCHAR}, #{lyjUserPhone,jdbcType=VARCHAR}, 
      #{lyjUserLivingplace,jdbcType=VARCHAR}, #{lyjUserWorkplace,jdbcType=VARCHAR}, #{lyjUserCreditpositive,jdbcType=VARCHAR}, 
      #{lyjUserCreditnegative,jdbcType=VARCHAR},#{lyjUserRewards,jdbcType=INTEGER})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.feng.oldfriend.entity.LyjUser" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update lyj_user
    set lyj_user_openid = #{lyjUserOpenid,jdbcType=VARCHAR},
      lyj_user_name = #{lyjUserName,jdbcType=VARCHAR},
      lyj_user_gender = #{lyjUserGender,jdbcType=INTEGER},
      lyj_user_location = #{lyjUserLocation,jdbcType=VARCHAR},
      lyj_user_age = #{lyjUserAge,jdbcType=INTEGER},
      lyj_user_country = #{lyjUserCountry,jdbcType=VARCHAR},
      lyj_user_creditid = #{lyjUserCreditid,jdbcType=VARCHAR},
      lyj_user_phone = #{lyjUserPhone,jdbcType=VARCHAR},
      lyj_user_livingplace = #{lyjUserLivingplace,jdbcType=VARCHAR},
      lyj_user_workplace = #{lyjUserWorkplace,jdbcType=VARCHAR},
      lyj_user_creditpositive = #{lyjUserCreditpositive,jdbcType=VARCHAR},
      lyj_user_creditnegative = #{lyjUserCreditnegative,jdbcType=VARCHAR},
      lyj_user_rewards = #{lyjUserRewards,jdbcType=INTEGER}
    where lyj_user_id = #{lyjUserId,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select lyj_user_id, lyj_user_openid, lyj_user_name, lyj_user_gender, lyj_user_location, 
    lyj_user_age, lyj_user_country, lyj_user_creditid, lyj_user_phone, lyj_user_livingplace, 
    lyj_user_workplace, lyj_user_creditpositive, lyj_user_creditnegative,lyj_user_rewards
    from lyj_user
    where lyj_user_id = #{lyjUserId,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select lyj_user_id, lyj_user_openid, lyj_user_name, lyj_user_gender, lyj_user_location, 
    lyj_user_age, lyj_user_country, lyj_user_creditid, lyj_user_phone, lyj_user_livingplace, 
    lyj_user_workplace, lyj_user_creditpositive, lyj_user_creditnegative,lyj_user_rewards
    from lyj_user
  </select>

  <!--根据搜索条件对所有的用户进行查找-->
  <select id="getUsers" resultMap="BaseResultMap" >
    <bind name="pattern" value="'%' + searchText + '%'"/>
    select lyj_user_id, lyj_user_openid, lyj_user_name, lyj_user_gender, lyj_user_location,
    lyj_user_age, lyj_user_country, lyj_user_creditid, lyj_user_phone, lyj_user_livingplace,
    lyj_user_workplace, lyj_user_creditpositive, lyj_user_creditnegative,lyj_user_rewards
    from lyj_user
    <if test="searchText!=null and searchText!='' ">
      where lyj_user_name like #{pattern}
      or lyj_user_location like #{pattern}
      or lyj_user_country like #{pattern}
      or lyj_user_phone like #{pattern}
      or lyj_user_livingplace like #{pattern}
      or lyj_user_workplace like #{pattern}
    </if>
  </select>
</mapper>